<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>视频分类 - <span id="categoryTitle">科技</span></title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            background-color: #f0f2f5;
        }
        .video-item {
            transition: all 0.2s ease;
        }
        .video-item:hover {
            background-color: #e8f4f8;
        }
    </style>
</head>
<body class="font-sans">
    <!-- 导航栏 -->
    <nav class="bg-white shadow-sm sticky top-0 z-10">
        <div class="container mx-auto px-4 py-4 flex items-center justify-between">
            <h1 class="text-2xl font-bold text-blue-600">
                <i class="fa-solid fa-clapperboard mr-2"></i>视频小屋
            </h1>
            <a href="index.html" class="text-blue-600 hover:text-blue-800 font-medium">
                <i class="fa-solid fa-arrow-left mr-1"></i>返回分类
            </a>
        </div>
    </nav>

    <!-- 视频播放区域 -->
    <div class="bg-gray-900 py-8">
        <div class="container mx-auto px-4">
            <h2 id="videoTitle" class="text-white text-xl font-medium mb-4">请选择一个视频播放</h2>
            <div class="aspect-video bg-black rounded-lg overflow-hidden">
                <video id="mainVideo" controls class="w-full h-full object-contain">
                    <source src="" type="video/mp4">
                    您的浏览器不支持 HTML5 视频播放
                </video>
            </div>
        </div>
    </div>

    <!-- 视频列表区域 -->
    <main class="container mx-auto px-4 py-8">
        <h3 class="text-2xl font-bold text-gray-800 mb-6" id="listTitle">科技视频列表</h3>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="videoList">
            <!-- 视频列表由 JavaScript 动态生成 -->
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-gray-800 text-white py-6">
        <div class="container mx-auto px-4 text-center">
            <p>© 2025 视频小屋 - 极简视频播放平台</p>
        </div>
    </footer>

    <script>
        // 1. 定义所有分类的视频数据（真实可播放的测试视频）
        const videoData = {
            tech: [
                { id: 1, title: "人工智能入门讲解", src: "https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/720/Big_Buck_Bunny_720_10s_1MB.mp4", cover: "https://picsum.photos/id/1/300/170" },
                { id: 2, title: "Python 编程教程", src: "https://test-videos.co.uk/vids/jellyfish/mp4/h264/720/Jellyfish_720_10s_5MB.mp4", cover: "https://picsum.photos/id/2/300/170" },
                { id: 3, title: "5G 技术科普", src: "https://test-videos.co.uk/vids/elephants/mp4/h264/720/Elephants_720_10s_4MB.mp4", cover: "https://picsum.photos/id/3/300/170" }
            ],
            life: [
                { id: 4, title: "日常收纳技巧", src: "https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/720/Big_Buck_Bunny_720_10s_1MB.mp4", cover: "https://picsum.photos/id/10/300/170" },
                { id: 5, title: "居家健身指南", src: "https://test-videos.co.uk/vids/jellyfish/mp4/h264/720/Jellyfish_720_10s_5MB.mp4", cover: "https://picsum.photos/id/11/300/170" },
                { id: 6, title: "旅行vlog分享", src: "https://test-videos.co.uk/vids/elephants/mp4/h264/720/Elephants_720_10s_4MB.mp4", cover: "https://picsum.photos/id/12/300/170" }
            ],
            food: [
                { id: 7, title: "简易早餐做法", src: "https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/720/Big_Buck_Bunny_720_10s_1MB.mp4", cover: "https://picsum.photos/id/20/300/170" },
                { id: 8, title: "烘焙蛋糕教程", src: "https://test-videos.co.uk/vids/jellyfish/mp4/h264/720/Jellyfish_720_10s_5MB.mp4", cover: "https://picsum.photos/id/21/300/170" },
                { id: 9, title: "家常菜分享", src: "https://test-videos.co.uk/vids/elephants/mp4/h264/720/Elephants_720_10s_4MB.mp4", cover: "https://picsum.photos/id/22/300/170" }
            ],
            game: [
                { id: 10, title: "游戏攻略解说", src: "https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/720/Big_Buck_Bunny_720_10s_1MB.mp4", cover: "https://picsum.photos/id/30/300/170" },
                { id: 11, title: "新游戏试玩", src: "https://test-videos.co.uk/vids/jellyfish/mp4/h264/720/Jellyfish_720_10s_5MB.mp4", cover: "https://picsum.photos/id/31/300/170" },
                { id: 12, title: "电竞比赛回顾", src: "https://test-videos.co.uk/vids/elephants/mp4/h264/720/Elephants_720_10s_4MB.mp4", cover: "https://picsum.photos/id/32/300/170" }
            ]
        };

        // 2. 获取当前分类（从URL参数中读取）
        const urlParams = new URLSearchParams(window.location.search);
        const currentType = urlParams.get('type') || 'tech';

        // 3. 更新页面标题和列表标题
        const typeToName = { tech: '科技', life: '生活', food: '美食', game: '游戏' };
        const currentCategoryName = typeToName[currentType];
        document.getElementById('categoryTitle').textContent = currentCategoryName;
        document.getElementById('listTitle').textContent = `${currentCategoryName}视频列表`;

        // 4. 生成视频列表
        const videoListElement = document.getElementById('videoList');
        const mainVideo = document.getElementById('mainVideo');
        const videoTitle = document.getElementById('videoTitle');

        // 获取当前分类的视频
        const currentVideos = videoData[currentType];

        // 渲染视频列表
        currentVideos.forEach(video => {
            const videoItem = document.createElement('div');
            videoItem.className = 'video-item bg-white p-3 rounded-lg cursor-pointer';
            videoItem.innerHTML = `
                <img src="${video.cover}" alt="${video.title}" class="w-full h-40 object-cover rounded-md mb-2">
                <h4 class="font-medium text-gray-800">${video.title}</h4>
            `;

            // 点击视频项播放视频
            videoItem.addEventListener('click', () => {
                mainVideo.src = video.src;
                videoTitle.textContent = video.title;
                mainVideo.play(); // 自动播放
            });

            videoListElement.appendChild(videoItem);
        });

        // 5. 默认播放第一个视频
        if (currentVideos.length > 0) {
            mainVideo.src = currentVideos[0].src;
            videoTitle.textContent = currentVideos[0].title;
        }
    </script>
</body>
</html>
